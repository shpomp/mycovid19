<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>PROFILE shmovid-19</title>
    <!-- old

    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
      integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
      crossorigin="anonymous"
    />
    <link
      href="https://unpkg.com/tailwindcss@next/dist/tailwind.min.css"
      rel="stylesheet"
    />
     -->

    <!-- newly added -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tailwind Starter Template - Day Admin Template: Tailwind Toolbox</title>
    <meta name="description" content="description here">
    <meta name="keywords" content="keywords,here">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <!-- old <link href="https://unpkg.com/tailwindcss@next/dist/tailwind.min.css" rel="stylesheet"> -->
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

    <!--Replace with your tailwind.css once created-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js" integrity="sha256-XF29CBwU1MWLaGEnsELogU6Y6rcc5nCkhhx89nFMIDQ=" crossorigin="anonymous"></script>
    <!-- newly added -->

  </head>

  <body class="bg-blue-100 font-sans leading-normal tracking-normal">

  <nav id="header" th:replace="fragments/user_fragments/user_nav_profile :: profile"></nav>
    <!--Container-->
    <div class="container w-full mx-auto pt-20">
      <div
        class="w-full px-4 md:px-0 md:mt-8 mb-16 text-gray-800 leading-normal"
      >
        <!--Console Content-->

        <!--Table Card-->
        <div class="bg-white border rounded shadow">
          <div class="border-b p-3">
            <h5 class="font-bold uppercase text-gray-600 ml-3">MY PROFILE</h5>
          </div>
          <div class="ml-10 mb-5 p-5">
            <!--NAME, LAST NAME, DOB-->
            <i class="fas fa-user-shield text-gray-600 text-xl p-4 fa-fw"></i>
            <table class="table-auto p-5 text-gray-700">
              <tr class="bg-gray-100">
                <th class="p-4 border border-blue-200 text-center text-blue-900">
                  First name
                </th>
                <th class="p-4 border border-blue-200 text-center text-blue-900">
                  Last name
                </th>
                <th class="p-4 border border-blue-200 text-center text-blue-900">
                  Date of birth
                </th>
              </tr>

              <tr>
                <td
                  class="text-center p-4 border border-blue-200"
                  th:text="${user.firstName}"
                ></td>
                <td
                  class="text-center p-4 border border-blue-200"
                  th:text="${user.lastName}"
                ></td>
                <td
                  class="text-center p-4 border border-blue-200"
                  th:text="${user.dateOfBirth}"
                ></td>
              </tr>
            </table>

            <!--PHONE, STREET, HOUSE, DISTRICT-->
            <i class="fas fa-home text-gray-600 text-xl p-4 fa-fw mt-10"></i>
            <table class="table-auto p-5 text-gray-700">
              <tr class="bg-gray-100">
                <th class="p-4 border border-blue-200 text-center text-blue-900">
                  Phone number
                </th>
                <th class="p-4 border border-blue-200 text-center text-blue-900">
                  Street
                </th>
                <th class="p-4 border border-blue-200 text-center text-blue-900">
                  House number
                </th>
                <th class="p-4 border border-blue-200 text-center text-blue-900">
                  District
                </th>
              </tr>

              <tr>
                <td
                  class="text-center p-4 border border-blue-200"
                  th:text="${user.phoneNumber}"
                ></td>
                <td
                  class="text-center p-4 border border-blue-200"
                  th:text="${user.streetName}"
                ></td>
                <td
                  class="text-center p-4 border border-blue-200"
                  th:text="${user.homeNumber}"
                ></td>
                <td
                  class="text-center p-4 border border-blue-200"
                  th:text="${user.userDistrict}"
                ></td>
              </tr>
            </table>

            <!--EMAIL, PASSWORD-->
            <i
              class="fas fa-key fa-fw text-gray-600 text-xl p-4 fa-fw mt-10"
            ></i>

            <form action="/update_profile" method="post">
              <input
                th:value="${user.userId}"
                type="hidden"
                name="userId"
                value="userId"
              />
              <input
                th:value="${user.userEmail}"
                class="
                  text-sm
                  bg-gray-200
                  appearance-none
                  rounded
                  py-2
                  px-3
                  text-gray-700
                  mb-1
                  leading-tight
                  focus:outline-none
                  focus:shadow-outline
                  h-10
                "
                type="text"
                name="userEmail"
                required
              /><br />
              <input
                th:value="${user.userPassword}"
                class="
                  text-sm
                  bg-gray-200
                  appearance-none
                  rounded
                  py-2
                  px-3
                  text-gray-700
                  mb-1
                  leading-tight
                  focus:outline-none
                  focus:shadow-outline
                  h-10
                  mt-3
                "
                id="userPassword"
                type="password"
                name="userPassword"
                required
              />
              <input
                type="checkbox"
                id="passwordVisibility"
                onclick="togglePassword()"
              />
              <label for="passwordVisibility">show password</label><br />

              <button
                class="
                  bg-blue-900
                  hover:bg-blue-700
                  text-white
                  py-2
                  px-4
                  rounded
                  mt-5
                "
                type="submit"
                name="update"
                value="Update"
              >
                update
              </button>
            </form>
          </div>
        </div>
        <!--/table Card-->

        <!--/ Console Content-->
      </div>
    </div>
    <!--/container-->

    <!-- footer -->
    <div th:replace="fragments/user_fragments/user_footer :: footer">&nbsp;</div>



    <script>
      /*Toggle dropdown list*/
      /*https://gist.github.com/slavapas/593e8e50cf4cc16ac972afcbad4f70c8*/

      var userMenuDiv = document.getElementById("userMenu");
      var userMenu = document.getElementById("userButton");

      var navMenuDiv = document.getElementById("nav-content");
      var navMenu = document.getElementById("nav-toggle");

      document.onclick = check;

      function check(e) {
        var target = (e && e.target) || (event && event.srcElement);

        //User Menu
        if (!checkParent(target, userMenuDiv)) {
          // click NOT on the menu
          if (checkParent(target, userMenu)) {
            // click on the link
            if (userMenuDiv.classList.contains("invisible")) {
              userMenuDiv.classList.remove("invisible");
            } else {
              userMenuDiv.classList.add("invisible");
            }
          } else {
            // click both outside link and outside menu, hide menu
            userMenuDiv.classList.add("invisible");
          }
        }

        //Nav Menu
        if (!checkParent(target, navMenuDiv)) {
          // click NOT on the menu
          if (checkParent(target, navMenu)) {
            // click on the link
            if (navMenuDiv.classList.contains("hidden")) {
              navMenuDiv.classList.remove("hidden");
            } else {
              navMenuDiv.classList.add("hidden");
            }
          } else {
            // click both outside link and outside menu, hide menu
            navMenuDiv.classList.add("hidden");
          }
        }
      }

      function checkParent(t, elm) {
        while (t.parentNode) {
          if (t == elm) {
            return true;
          }
          t = t.parentNode;
        }
        return false;
      }

      function togglePassword() {
        let passwordInput = document.getElementById("userPassword");
        if (passwordInput.type === "password") {
          passwordInput.type = "text";
        } else {
          passwordInput.type = "password";
        }
      }
    </script>
  </body>
</html>
